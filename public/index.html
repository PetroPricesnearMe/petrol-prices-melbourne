<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    
    <!-- Preconnect to external domains - MUST be early -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://api.mapbox.com" />
    <link rel="dns-prefetch" href="https://www.googletagmanager.com" />
    
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#667eea" />
    
    <!-- Primary Meta Tags -->
    <title>Petrol Prices Melbourne - Live Fuel Prices & Interactive Map | Petrol Prices Near Me</title>
    <meta name="title" content="Petrol Prices Melbourne - Live Fuel Prices & Interactive Map | Petrol Prices Near Me" />
    <meta name="description" content="Find the cheapest petrol prices in Melbourne with our live interactive map. Compare fuel prices from 250+ petrol stations. Real-time updates for unleaded, diesel, and premium fuels." />
    <meta name="keywords" content="petrol prices melbourne, fuel prices near me, cheapest petrol melbourne, live fuel prices, petrol stations melbourne, diesel prices melbourne, fuel price map melbourne, petrol price comparison melbourne" />
    <meta name="author" content="Petrol Prices Near Me" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://petrolpricesnearme.com.au/" />
    <meta property="og:title" content="Petrol Prices Melbourne - Live Fuel Prices & Interactive Map" />
    <meta property="og:description" content="Find the cheapest petrol prices in Melbourne with our live interactive map. Compare fuel prices from 250+ petrol stations." />
    <meta property="og:image" content="%PUBLIC_URL%/images/fuel-nozzles.jpg" />
    <meta property="og:site_name" content="Petrol Prices Near Me" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://petrolpricesnearme.com.au/" />
    <meta property="twitter:title" content="Petrol Prices Melbourne - Live Fuel Prices & Interactive Map" />
    <meta property="twitter:description" content="Find the cheapest petrol prices in Melbourne with our live interactive map. Compare fuel prices from 250+ petrol stations." />
    <meta property="twitter:image" content="%PUBLIC_URL%/images/fuel-nozzles.jpg" />
    
    <!-- Structured Data for Local Business -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Petrol Prices Near Me",
      "url": "https://petrolpricesnearme.com.au/",
      "description": "Find the cheapest petrol prices in Melbourne with live interactive map and real-time updates",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://petrolpricesnearme.com.au/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    
    <!-- Critical CSS Inlined -->
    <style>
      *{margin:0;padding:0;box-sizing:border-box}:root{--primary-color:#2563eb;--primary-dark:#1d4ed8;--secondary-color:#10b981;--accent-color:#f59e0b;--text-primary:#1f2937;--text-secondary:#6b7280;--text-light:#9ca3af;--background:#ffffff;--background-gray:#f9fafb;--border-color:#e5e7eb;--shadow:0 4px 6px -1px rgba(0,0,0,0.1);--shadow-lg:0 20px 25px -5px rgba(0,0,0,0.1);--gradient:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%)}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7.woff2) format('woff2')}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7SUc.woff2) format('woff2')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7SUc.woff2) format('woff2')}body{font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:var(--background);color:var(--text-primary);line-height:1.6}.container{max-width:1200px;margin:0 auto;padding:0 1rem}@media (min-width:640px){.container{padding:0 2rem}}.btn{padding:.75rem 1.5rem;border-radius:.5rem;font-weight:600;text-decoration:none;display:inline-block;transition:all .3s ease;cursor:pointer;border:none;font-size:1rem}.btn-primary{background:var(--gradient);color:white;box-shadow:var(--shadow)}.btn-primary:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.btn-secondary{background:white;color:var(--primary-color);border:2px solid var(--primary-color)}.btn-secondary:hover{background:var(--primary-color);color:white;transform:translateY(-2px)}.fade-up{animation:fadeUp .8s ease-out}@keyframes fadeUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.leaflet-container{border-radius:1rem;box-shadow:var(--shadow-lg)}#root{min-height:100vh}.navbar{background:rgba(255,255,255,.95);backdrop-filter:blur(10px);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000;padding:1rem 0}.nav-content{display:flex;justify-content:space-between;align-items:center}.nav-logo{display:flex;align-items:center;gap:.5rem;text-decoration:none;color:var(--text-primary);font-weight:700;font-size:1.25rem}.logo-text{background:var(--gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.nav-links{display:flex;gap:2rem;align-items:center}.nav-link{text-decoration:none;color:var(--text-secondary);font-weight:500;position:relative;transition:color .3s ease;padding:.5rem 0}.nav-link:hover,.nav-link.active{color:var(--primary-color)}.home-page{min-height:100vh}.hero-section{min-height:100vh;position:relative;display:flex;align-items:center;overflow:hidden}.hero-background{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);z-index:-2}.hero-gradient{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 50%,var(--accent-color) 100%);opacity:.9;z-index:-1}.hero-section .container{display:flex;align-items:center;justify-content:space-between;gap:3rem}.hero-content{text-align:center;color:white;max-width:600px;flex:1}.hero-title{font-size:clamp(2.5rem,8vw,5rem);font-weight:800;margin-bottom:1.5rem;line-height:1.1;text-shadow:0 4px 8px rgba(0,0,0,.3)}.hero-subtitle{font-size:clamp(1.1rem,3vw,1.4rem);margin-bottom:3rem;opacity:.9;line-height:1.6;max-width:600px;margin-left:auto;margin-right:auto}.hero-buttons{display:flex;gap:1.5rem;justify-content:center;margin-bottom:4rem;flex-wrap:wrap}.hero-btn{display:flex;align-items:center;gap:.5rem;padding:1rem 2rem;font-size:1.1rem;border-radius:.75rem;transition:all .3s ease;backdrop-filter:blur(10px);min-width:200px;justify-content:center}.hero-btn.btn-primary{background:rgba(255,255,255,.25);border:2px solid rgba(255,255,255,.3);color:white}.hero-btn.btn-primary:hover{background:rgba(255,255,255,.35);transform:translateY(-3px);box-shadow:0 20px 40px rgba(0,0,0,.3)}@media (max-width:768px){.hero-section .container{flex-direction:column;text-align:center;gap:2rem}.hero-content{padding:1rem;order:1}.hero-buttons{flex-direction:column;align-items:center}.hero-btn{width:100%;max-width:300px}}
    </style>
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="%PUBLIC_URL%/images/fuel-nozzles.jpg" as="image" />
    
    <!-- Preload critical font files directly -->
    <link rel="preload" href="https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7SUc.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7SUc.woff2" as="font" type="font/woff2" crossorigin />
    
    <!-- Mapbox CSS is loaded automatically by react-map-gl -->
    
    <!-- Script to defer main CSS bundle -->
    <script>
      // Intercept CSS loading and defer non-critical styles
      (function() {
        var observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            mutation.addedNodes.forEach(function(node) {
              if (node.tagName === 'LINK' && node.rel === 'stylesheet' && 
                  node.href && (node.href.includes('main.') || node.href.includes('static/css/'))) {
                // Defer loading by changing media attribute
                node.media = 'print';
                node.onload = function() { 
                  this.media = 'all'; 
                  this.onload = null; 
                };
              }
            });
          });
        });
        
        observer.observe(document.head, { childList: true });
        
        // Also check existing links on DOMContentLoaded
        document.addEventListener('DOMContentLoaded', function() {
          setTimeout(function() {
            var links = document.querySelectorAll('link[rel="stylesheet"]');
            links.forEach(function(link) {
              if (link.href && (link.href.includes('main.') || link.href.includes('static/css/')) && 
                  !link.href.includes('leaflet') && !link.href.includes('fonts')) {
                link.media = 'print';
                link.onload = function() { this.media = 'all'; this.onload = null; };
              }
            });
          }, 50);
        });
      })();
    </script>
    
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <!-- Google Analytics - Optimized Loading -->
    <script>
      // Defer Google Analytics loading until user interaction or after 3 seconds
      function loadGA() {
        if (window.gtag) return; // Already loaded
        
        var script = document.createElement('script');
        script.async = true;
        script.src = 'https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID';
        document.head.appendChild(script);
        
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID', {
          page_title: 'Petrol Prices Melbourne - Live Fuel Prices',
          custom_map: {
            'dimension1': 'fuel_type',
            'dimension2': 'station_brand'
          }
        });
        window.gtag = gtag;
      }
      
      // Load GA on first user interaction
      ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart', 'click'].forEach(function(event) {
        document.addEventListener(event, loadGA, { once: true, passive: true });
      });
      
      // Fallback: load after 3 seconds if no interaction
      setTimeout(loadGA, 3000);
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html> 